<!DOCTYPE html>
<html>

<head>
<!--set webpage format-->
    <meta charset="utf-8">
    <title>Heatmaps</title>
    <style>
    html,
    body {
        height: 100%;
        margin: 0;
        padding: 0;
    }
    
    
    #map {
        height: 100%;
    }
    
    #floating-panel {
        position: absolute;
        top: 10px;
        left: 25%;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: 'Roboto', 'sans-serif';
        line-height: 30px;
        padding-left: 10px;
    }

    #floating-panel {
        background-color: #fff;
        border: 1px solid #999;
        left: 25%;
        padding: 5px;
        position: absolute;
        top: 10px;
        z-index: 5;
    }

    </style>
    <!--set google map format -->
</head>
<!--set serveral click buttons with different functions -->
<body>
    <div id="floating-panel">
        <button onclick="toggleHeatmap()">Toggle Heatmap</button> 
        <button onclick="changeGradient()">Change gradient</button> <!--change location value -->
        <button onclick="changeRadius()">Change radius</button>     <!--change the radius of location point -->
        <button onclick="changeOpacity()">Change opacity</button>
    </div>
    <div id="map"></div>
    <script>
    // This example requires the Visualization library. Include the libraries=visualization
    // parameter when you first load the API. For example:
    // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=visualization">

    var map, heatmap;

    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            zoom: 12,
            center: {
                lat: 40.756221,
                lng: -73.982877
            },
            mapTypeId: google.maps.MapTypeId.SATELLITE
        });
        // initialize googlemap
        heatmap = new google.maps.visualization.HeatmapLayer({
            data: getPoints(),
            map: map
        });
    }  // initialize heatmap

    function toggleHeatmap() {
        heatmap.setMap(heatmap.getMap() ? null : map);  // define button's function
    }

    function changeGradient() {     // define "changeGradient" button's function
        var gradient = [
            'rgba(0, 255, 255, 0)',
            'rgba(0, 255, 255, 1)',
            'rgba(0, 191, 255, 1)',
            'rgba(0, 127, 255, 1)',
            'rgba(0, 63, 255, 1)',
            'rgba(0, 0, 255, 1)',
            'rgba(0, 0, 223, 1)',
            'rgba(0, 0, 191, 1)',
            'rgba(0, 0, 159, 1)',
            'rgba(0, 0, 127, 1)',
            'rgba(63, 0, 91, 1)',
            'rgba(127, 0, 63, 1)',
            'rgba(191, 0, 31, 1)',
            'rgba(255, 0, 0, 1)'
        ]
        heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
    }

    function changeRadius() {   // change radius of points
        heatmap.set('radius', heatmap.get('radius') ? null : 100);
    }

    function changeOpacity() {
        heatmap.set('opacity', heatmap.get('opacity') ? null : 0.2);
    }

    // Heatmap data
    function getPoints() {
        var rawLat = [40.70798873901367, 40.7672004699707, 40.74947738647461, 40.779170989990234, 40.74028396606445, 40.7742919921875, 40.75913619995117, 40.75596237182617, 40.70939254760742, 40.78350830078125, 40.74419021606445, 40.76995086669922, 40.745628356933594, 40.76932144165039, 40.75471878051758, 40.756690979003906, 40.76131820678711, 40.76520919799805, 40.777976989746094, 40.75878143310547, 40.77174377441406, 40.77946090698242, 40.71686935424805, 40.644996643066406, 40.74430847167969, 40.75657653808594, 40.75739288330078, 40.71445846557617, 40.75850296020508, 40.78445053100586, 40.78533172607422, 40.76648712158203, 40.74774169921875, 40.75336837768555, 40.764244079589844, 40.747440338134766, 40.76659393310547, 40.79383087158203, 40.76539993286133, 40.79353713989258, 40.76384353637695, 40.74378967285156, 40.77627182006836, 40.767059326171875, 40.76898956298828, 40.776973724365234, 40.78390121459961, 40.75004577636719, 40.72146987915039, 40.781898498535156, 40.78706741333008, 40.74517059326172, 40.710792541503906, 40.775367736816406, 40.769775390625, 40.771705627441406, 40.77342224121094, 40.78352737426758, 40.76084899902344, 40.75807571411133, 40.770668029785156, 40.74162673950195, 40.7637825012207, 40.75090789794922, 40.76679611206055, 40.7114143371582, 40.77928924560547, 40.75672149658203, 40.750301361083984, 40.75286102294922, 40.769744873046875, 40.72282028198242, 40.75278091430664, 40.76118087768555, 40.79177474975586, 40.74563980102539, 40.76418685913086, 40.74338150024414, 40.76653289794922, 40.720855712890625, 40.77809524536133, 40.78227996826172, 40.746517181396484, 40.76103591918945, 40.74898147583008, 40.77396774291992, 40.75661087036133, 40.75901794433594, 40.72724914550781, 40.77426528930664, 40.7723503112793, 40.733192443847656, 40.76265335083008, 40.76459884643555, 40.76517105102539, 40.7670783996582, 40.76850128173828, 40.77680206298828, 40.771549224853516, 40.78199005126953, 40.762855529785156, 40.64390182495117, 40.75748825073242, 40.76451110839844, 40.76966094970703, 40.78054428100586, 40.761383056640625, 40.759185791015625, 40.77135467529297, 40.7785758972168, 40.75129318237305, 40.75696563720703, 40.753849029541016, 40.762786865234375, 40.7517204284668, 40.751827239990234, 40.75638198852539, 40.74412536621094, 40.73781967163086, 40.774261474609375, 40.773189544677734, 40.74600601196289, 40.691131591796875, 40.77397918701172, 40.76896286010742, 40.76652526855469, 40.75092697143555, 40.77056884765625, 40.7700309753418, 40.75018310546875, 40.77811813354492, 40.791465759277344, 40.76203918457031, 40.7436637878418, 40.789058685302734, 40.79730987548828, 40.782588958740234, 40.76597595214844, 40.79353713989258, 40.7425422668457, 40.76584243774414, 40.687767028808594, 40.77189636230469, 40.772605895996094, 40.7630615234375, 40.73411560058594, 40.75602722167969, 40.764381408691406, 40.76962661743164, 40.77775955200195, 40.79369354248047, 40.758060455322266, 40.770938873291016, 40.778411865234375, 40.764102935791016, 40.77684020996094, 40.74150085449219, 40.768672943115234, 40.75297546386719, 40.788265228271484, 40.77540969848633, 40.789817810058594, 40.75096893310547, 40.7806510925293, 40.758846282958984, 40.73186492919922, 40.753787994384766, 40.77267074584961, 40.71851348876953, 40.76136016845703, 40.772926330566406, 40.72325897216797, 40.76591491699219, 40.76279067993164, 40.75020217895508, 40.737220764160156, 40.7622184753418, 40.670536041259766, 40.77802658081055, 40.721370697021484, 40.76988983154297, 40.764862060546875, 0.0, 40.75783157348633, 40.776466369628906, 40.744659423828125, 40.73733901977539, 40.755130767822266, 40.76670455932617, 40.75605010986328, 40.77000045776367, 40.749629974365234, 40.7498664855957, 40.77397155761719, 40.78694152832031, 40.77151107788086, 40.64876174926758, 40.780731201171875, 40.76224899291992, 40.769309997558594, 40.792320251464844, 40.756290435791016, 40.80971908569336, 40.648738861083984, 40.74415588378906, 40.75904846191406, 40.77891540527344, 40.770851135253906, 40.73408508300781, 40.75038146972656, 40.76901626586914, 40.77507400512695, 40.7503547668457, 40.76914978027344, 40.78545379638672, 40.7482795715332, 40.77217102050781, 40.77387619018555, 40.76738357543945, 40.737831115722656, 40.785499572753906, 40.644378662109375, 40.7695426940918, 40.7681884765625, 40.73882293701172, 40.809120178222656, 40.72503662109375, 40.780426025390625, 40.83814239501953, 40.764381408691406, 40.7954216003418, 40.75468444824219, 40.77873992919922, 40.78725051879883, 40.770721435546875, 40.75859832763672, 40.743526458740234, 40.73038101196289, 40.778255462646484, 40.80830383300781, 40.71280288696289, 40.78163528442383, 40.76807403564453, 40.753868103027344, 40.75862121582031, 40.783485412597656, 40.77714920043945, 40.71154022216797, 40.76601028442383, 40.743507385253906, 40.760746002197266, 40.8098030090332, 40.77960968017578, 40.736698150634766, 40.760990142822266, 40.79130554199219, 40.73414993286133, 40.76902389526367, 40.70629119873047, 40.776084899902344, 40.78279113769531, 40.787540435791016, 40.751102447509766, 40.768402099609375, 40.7230224609375, 40.78535842895508, 40.76485824584961, 40.75179672241211, 40.77280807495117, 40.75810241699219, 40.77339172363281, 40.75122833251953, 40.74445343017578, 40.7769660949707, 40.80756759643555, 40.776893615722656, 40.772605895996094, 40.7933235168457, 40.728912353515625, 40.74412536621094, 40.769569396972656, 40.7132568359375, 40.74653244018555, 40.739070892333984, 40.77286148071289, 40.75020217895508, 40.75244903564453, 40.800437927246094, 40.76896667480469, 40.7451286315918, 40.74592590332031, 40.77995300292969, 40.79131317138672, 40.749908447265625, 40.74440002441406, 40.76287078857422, 40.78842544555664, 40.77299880981445, 40.760746002197266, 40.78033447265625, 40.775386810302734, 40.73295974731445, 40.76048278808594, 40.74999237060547, 40.72911834716797, 40.73941421508789, 40.78055953979492, 40.76100540161133, 40.766204833984375, 40.773040771484375, 40.7791633605957, 40.77437210083008, 40.76547622680664, 40.74619674682617, 40.768402099609375, 40.77287292480469, 40.76655578613281, 40.763336181640625, 40.775001525878906, 40.777530670166016, 40.768348693847656, 40.64683151245117, 40.75408935546875, 40.75468826293945, 40.79159927368164, 40.78316116333008, 40.772361755371094, 40.76018142700195, 40.76395034790039, 40.70753860473633, 40.764686584472656, 40.745906829833984, 40.76695251464844, 40.740543365478516, 40.77656173706055, 40.75830078125, 40.87097930908203, 40.77234649658203, 40.74121856689453, 40.76352310180664, 40.75899124145508, 40.77440643310547, 40.7230110168457, 40.771728515625, 40.7691764831543, 40.76197052001953, 40.749996185302734, 40.775455474853516, 40.75918197631836, 40.754913330078125, 40.75538635253906, 40.76879119873047, 40.76120376586914, 40.76258850097656, 40.75617218017578, 40.71685791015625, 40.76930618286133, 40.754844665527344, 40.74576950073242, 40.748233795166016, 40.762306213378906, 40.76540756225586, 40.755958557128906, 40.76013946533203, 40.768287658691406, 40.76519012451172, 40.77873992919922, 40.76827621459961, 40.78247833251953, 40.76622772216797]
        console.log(rawLat.length);
        var rawLng = [-73.99996948242188, -73.96881866455078, -73.98368072509766, -73.98258972167969, -74.00605010986328, -73.96345520019531, -73.97061920166016, -73.96797180175781, -74.01500701904297, -73.97698974609375, -73.9834213256836, -73.96077728271484, -73.98698425292969, -73.9920654296875, -73.97320556640625, -73.99015045166016, -73.99050903320312, -73.98370361328125, -73.95864868164062, -73.96144104003906, -73.95010375976562, -73.9814224243164, -73.98912048339844, -73.77657318115234, -73.98319244384766, -73.99385833740234, -73.9745101928711, -73.82958984375, -73.98087310791016, -73.97334289550781, -73.95262908935547, -73.99069213867188, -73.97377014160156, -73.99626159667969, -73.98828887939453, -74.00770568847656, -73.9630355834961, -73.97054290771484, -73.97960662841797, -73.96674346923828, -73.9713134765625, -73.98912811279297, -73.98209381103516, -73.95355224609375, -73.98816680908203, -73.96176147460938, -73.9586181640625, -73.99128723144531, -74.0064926147461, -73.94728088378906, -73.97338104248047, -73.95532989501953, -73.98377227783203, -73.9565658569336, -73.86412811279297, -73.95011138916016, -73.96202850341797, -73.97882843017578, -73.97651672363281, -73.96287536621094, -73.9837417602539, -73.97573852539062, -73.97693634033203, -73.9905014038086, -73.95314025878906, -74.00980377197266, -73.95375061035156, -73.99776458740234, -73.97866821289062, -73.96771240234375, -73.98446655273438, -73.99495697021484, -73.97221374511719, -73.97810363769531, -73.9690170288086, -73.98667907714844, -73.97671508789062, -73.9806900024414, -73.95220947265625, -73.9870376586914, -73.98194122314453, -73.98039245605469, -73.9841079711914, -73.99898529052734, -73.99250793457031, -73.95014190673828, -73.99024200439453, -73.97461700439453, -74.00886535644531, -73.87215423583984, -73.9669418334961, -74.00235748291016, -73.97969818115234, -73.97333526611328, -73.97447967529297, -73.97883605957031, -73.99268341064453, -73.94879913330078, -73.95027160644531, -73.95384216308594, -73.97483825683594, -73.7904052734375, -73.98900604248047, -73.97325134277344, -73.980712890625, -73.95256042480469, -73.97977447509766, -73.96109008789062, -73.95668029785156, -73.9883804321289, -73.99044036865234, -73.9894790649414, -73.97795867919922, -73.95970916748047, -73.97919464111328, -73.98209381103516, -73.96138000488281, -73.97162628173828, -73.98269653320312, -73.982177734375, -73.99008178710938, -73.99452209472656, -74.1771469116211, -73.98873138427734, -73.98135375976562, -73.99041748046875, -73.9911117553711, -73.96830749511719, -73.98682403564453, -73.99112701416016, -73.95446014404297, -73.95246124267578, -73.96572875976562, -73.97679138183594, -73.97441864013672, -73.96627044677734, -73.95532989501953, -73.98358917236328, -73.97075653076172, -73.95997619628906, -73.99111938476562, -74.18270111083984, -73.96533203125, -73.95862579345703, -73.97444915771484, -73.99497985839844, -73.964599609375, -73.96829986572266, -73.9841537475586, -73.98873138427734, -73.9671859741211, -73.96228790283203, -73.98113250732422, -73.95411682128906, -73.97758483886719, -73.9771499633789, -73.97579956054688, -73.9580078125, -73.98109436035156, -73.95429992675781, -73.94574737548828, -73.97718048095703, -73.99044799804688, -73.95907592773438, -73.96769714355469, -74.00865173339844, -73.97840881347656, -73.96758270263672, -74.00511932373047, -73.9691390991211, -73.98960876464844, -74.0080795288086, -73.9815444946289, -73.99200439453125, -73.99166107177734, -73.98319244384766, -73.96846771240234, -73.98555755615234, -73.96098327636719, -73.99930572509766, -73.96045684814453, -73.97907257080078, 0.0, -73.99292755126953, -73.97856903076172, -73.99209594726562, -73.98772430419922, -73.97933197021484, -73.97835540771484, -73.97504425048828, -73.98785400390625, -73.98155975341797, -73.9916763305664, -73.98473358154297, -73.96818542480469, -73.98274993896484, -73.7824935913086, -73.979736328125, -73.97215270996094, -73.9518814086914, -73.9703140258789, -73.98240661621094, -73.95137786865234, -73.78246307373047, -73.97151947021484, -73.96099853515625, -73.98219299316406, -73.99150848388672, -73.99966430664062, -73.96969604492188, -73.9821548461914, -73.96300506591797, -73.99087524414062, -73.86383819580078, -73.95402526855469, -73.97833251953125, -73.95868682861328, -73.98217010498047, -73.95494079589844, -73.99636840820312, -73.95376586914062, -73.78642272949219, -73.98401641845703, -73.96485137939453, -74.0037841796875, -73.95182037353516, -73.98291778564453, -73.97560119628906, -73.9381103515625, -73.97888946533203, -73.96195983886719, -73.99275207519531, -73.94989013671875, -73.95413208007812, -73.98583221435547, -73.96574401855469, -73.97269439697266, -73.99351501464844, -73.98188781738281, -73.96350860595703, -74.01398468017578, -73.98300170898438, -73.98368835449219, -73.97781372070312, -73.96302032470703, -73.9532470703125, -73.95816040039062, -74.00995635986328, -73.89271545410156, -73.98987579345703, -73.98436737060547, -73.96501922607422, -73.9808578491211, -73.98198699951172, -73.97126007080078, -73.95262908935547, -73.99886322021484, -73.9551010131836, -74.01681518554688, -73.98201751708984, -73.95541381835938, -73.97698974609375, -73.97962188720703, -73.95728302001953, -74.00318908691406, -73.95377349853516, -73.99554443359375, -73.99006652832031, -73.95987701416016, -73.9814224243164, -73.96080017089844, -73.99061584472656, -73.97145080566406, -73.9577407836914, -73.96041870117188, -73.98265075683594, -73.96746826171875, -73.96653747558594, -73.98102569580078, -73.97152709960938, -73.96039581298828, -74.0078353881836, -73.97978973388672, -74.00077819824219, -73.95233154296875, -73.99134063720703, -73.99313354492188, -73.94657135009766, -73.98233032226562, -73.9869384765625, -73.97892761230469, -73.957275390625, -73.97941589355469, -73.99126434326172, -73.97151184082031, -73.9896469116211, -73.97389221191406, -73.97823333740234, -74.00249481201172, -73.97293853759766, -73.96220397949219, -73.99433135986328, -73.97411346435547, -73.97776794433594, -73.98538970947266, -74.00389862060547, -73.95265197753906, -73.99896240234375, -73.97881317138672, -73.95629119873047, -73.95693969726562, -73.87309265136719, -73.96227264404297, -74.00892639160156, -73.98224639892578, -73.95845031738281, -73.98238372802734, -73.97785186767578, -73.98063659667969, -73.9587631225586, -73.99275207519531, -73.79002380371094, -73.96898651123047, -73.99134063720703, -73.95271301269531, -73.95844268798828, -73.9586410522461, -73.98308563232422, -73.98831176757812, -74.01710510253906, -73.97935485839844, -73.98218536376953, -73.9841079711914, -73.99710845947266, -73.94879150390625, -73.98310852050781, -73.91802215576172, -73.96690368652344, -74.00534057617188, -73.97958374023438, -73.98493194580078, -73.98190307617188, -73.99895477294922, -73.98301696777344, -73.9959716796875, -73.97515869140625, -73.99137878417969, -73.95390319824219, -73.96114349365234, -73.97224426269531, -73.98743438720703, -73.8634262084961, -73.98241424560547, -73.97307586669922, -73.9977798461914, -74.01085662841797, -73.98502349853516, -73.96450805664062, -73.98822784423828, -73.9735107421875, -73.98458099365234, -73.9701919555664, -73.97561645507812, -73.97663879394531, -73.98237609863281, -73.96991729736328, -73.94976806640625, -73.86165618896484, -73.94850158691406, -73.98163604736328]
        console.log(rawLng.length);  // for test on log
        var result = []

        for (var i = 0; i < rawLat.length; i++) {
            result.push(new google.maps.LatLng(rawLat[i], rawLng[i]));
        }

        return result;    //return heatmap result
    }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAIMYjlm6eifYiiyid8ssiI5hUTSOAKmxo&libraries=visualization&callback=initMap">
    </script>
</body>

</html>
